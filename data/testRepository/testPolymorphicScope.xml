<meta_metadata_repository name="test_repo" package="ecologylab.semantics.generated.test.test_repo">

	<meta_metadata name="metadata" comment="The Metadata Class" built_in="true">
		<scalar name="meta_metadata_name" tag="mm_name" hide="true" ignore_in_term_vector="true" comment="Stores the name of the meta-metadata, and is used on restoring from XML." scalar_type="String" />
		<collection name="mixins" child_type="metadata" polymorphic_scope="repository_metadata"/>
	</meta_metadata>
	
	<meta_metadata name="document" extends="metadata" comment="The Document Class" built_in="true">
		<scalar name="location" always_show="true" layer="8.0" comment="The document's actual location." scalar_type="ParsedURL" schema_org_itemprop="url"/>
		<collection name="additional_locations" child_scalar_type="ParsedURL" child_tag="location"/>
	</meta_metadata>
	
	<meta_metadata name="document_metadata_wrap" extends="metadata" comment="Used to disambiguated Document subclass composites." built_in="true">
		<composite name="document" type="document" promote_children="true" comment="polymorphic across documents" polymorphic_scope="repository_document"/>
	</meta_metadata>
	
	<meta_metadata name="clipping" extends="metadata" built_in="true">
		<scalar name="context" layer="10.0" scalar_type="String" />
		<scalar name="context_html" scalar_type="String" />
		<scalar name="xpath" scalar_type="String" hide="true"/>
		<composite name="source" tag="source_doc" type="document_metadata_wrap" />
		<composite name="outlink" type="document_metadata_wrap" />
	</meta_metadata>

	<meta_metadata name="media_clipping" extends="clipping" built_in="true">
		<scalar name="caption" style="metadata_h1" layer="11.0" comment="The caption of the image." scalar_type="String"/>
		<composite name="media" type="clippable_document" promote_children="true" polymorphic_global="true" />
	</meta_metadata>
	
	<meta_metadata name="clippable_document"  extends="document" built_in="true">
		<collection name="clippings" child_type="media_clipping" comment="Clippings based on this." hide="true" polymorphic_global="true"/>
		<scalar name="width" scalar_type="Integer"/>
		<scalar name="height" scalar_type="Integer"/>
	</meta_metadata>
	
	<meta_metadata name="test" extends="metadata">
		<composite name="document_sources" type="document" polymorphic_scope="repository_documents" />
		<collection name="media_sources" child_type="clippable_document" polymorphic_scope="repository_media" />
		<collection name="clippings" child_type="clipping" polymorphic_classes="clipping, media_clipping" />
	</meta_metadata>

</meta_metadata_repository>
